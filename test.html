<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pozo con agua pixel</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: url("https://i.imgur.com/jjM6Y9E.png") repeat;
      background-size: 64px 64px; /* Ajusta al tamaño del tile */
      image-rendering: pixelated;
      display: flex;
      justify-content: center;
      align-items: center;

      /* Animación de desplazamiento */
      animation: moverAgua 8s linear infinite;
    }

    @keyframes moverAgua {
      from { background-position: 0 0; }
      to { background-position: 64px 64px; }
    }

    .pozo-container {
      position: relative;
      image-rendering: pixelated;
    }

    .pozo-img {
      width: 256px;
      height: 256px;
      image-rendering: pixelated;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 256px;
      height: 256px;
      image-rendering: pixelated;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="pozo-container">
    <!-- Imagen central del pozo (puede ser distinta al tile) -->
    <img src="https://i.imgur.com/jjM6Y9E.png" alt="pozo" class="pozo-img">
    <canvas id="rippleCanvas" width="256" height="256"></canvas>
  </div>

  <script>
    const canvas = document.getElementById("rippleCanvas");
    const ctx = canvas.getContext("2d");

    let ripples = [];

    document.addEventListener("mousemove", (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      if (x >= 0 && y >= 0 && x <= rect.width && y <= rect.height) {
        ripples.push({ x, y, radius: 2, alpha: 1 });
      }
    });

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ripples.forEach((r, i) => {
        ctx.strokeStyle = `rgba(255,255,255,${r.alpha})`;
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.arc(r.x, r.y, r.radius, 0, Math.PI * 2);
        ctx.stroke();

        r.radius += 1.5;
        r.alpha -= 0.02;

        if (r.alpha <= 0) ripples.splice(i, 1);
      });

      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>
